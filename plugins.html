<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content=""><meta name=author content=""><title>plugins</title><body><script src=js/doc.js charset=utf-8 async></script><div class=container><div class=row><div class=col-md-3><div class=logo><ul class=cube-inner><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li></ul><ul class=cube><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li><li class=floor></li></ul><div class=name>webpack</div><div class=tagline>MODULE BUNDLER</div></div><div class=sidebar><p><a href=.>Home</a></p><ul><li>Getting Started (WIP)<ul><li>What is webpack?</li><li>Installation</li><li>Usage</li><li>Require Modules</li><li>Vendor Modules</li><li>Using Loaders</li></ul></li><li>Step-by-step tutorials<ul><li><a href=http://webpack.github.io/docs/tutorials/getting-started/welcome.html>Getting started</a></li></ul></li><li>Guides<ul><li><a href=commonjs.html>CommonJs</a></li><li><a href=amd.html>AMD</a></li><li><a href=usage-with-grunt.html>Usage with Grunt</a></li><li><a href=usage-with-gulp.html>Usage with gulp</a></li><li><a href=webpack-for-browserify-users.html>webpack for browserify users</a></li><li><a href=code-splitting.html>Code Splitting</a></li><li><a href=optimization.html>Optimization</a></li><li><a href=long-time-caching.html>Long-time Caching</a></li><li>How to write a loader (WIP)</li><li>How to write a plugin (WIP)</li><li><a href=comparison.html>Comparison</a></li></ul></li><li>Lists<ul><li><a href=list-of-loaders.html>List of loaders</a></li><li><a href=list-of-plugins.html>List of plugins</a></li></ul></li><li>API<ul><li><a href=configuration.html>Configuration</a></li><li><a href=cli.html>CLI</a></li><li><a href=node.js-api.html>Node.js API</a></li><li><a href=api-in-modules.html>API in modules</a></li><li><a href=loaders.html>Loaders</a></li><li><a href=plugins.html>Plugins</a></li><li><a href=context.html>context</a></li><li><a href=resolving.html>Resolving</a></li><li><a href=hot-module-replacement.html>Hot Module Replacement</a></li><li>Dev Tools<ul><li><a href=webpack-dev-server.html>webpack-dev-server</a></li><li><a href=webpack-dev-middleware.html>webpack-dev-middleware</a></li></ul></li></ul></li><li>Development<ul><li><a href=changelog.html>Changelog</a></li><li><a href=roadmap.html>Roadmap</a></li><li><a href=ideas.html>Ideas</a></li><li>Contributing (WIP)</li></ul></li></ul></div></div><div class=col-md-9><div class=pull-right><a href=https://github.com/webpack/docs/wiki/plugins/_edit id=wikieditlink>Edit</a></div><div class=row><div class=col-md-12><div class=page-header><h1 id=wikititle>plugins</h1></div></div></div><div class=row><div id=wiki class=col-md-12><div class=contents><ul><li><a href=#interface-types>interface types</a></li><li><a href=#compiler>Compiler</a><ul><li><a href=#run-compiler-compiler-async><code>run(compiler: Compiler)</code> async</a></li><li><a href=#watch-run-watching-watching-async><code>watch-run(watching: Watching)</code> async</a></li><li><a href=#compilation-c-compilation-params-object><code>compilation(c: Compilation, params: Object)</code></a></li><li><a href=#normal-module-factory-nmf-normalmodulefactory><code>normal-module-factory(nmf: NormalModuleFactory)</code></a></li><li><a href=#context-module-factory-cmf-contextmodulefactory><code>context-module-factory(cmf: ContextModuleFactory)</code></a></li><li><a href=#compile-params><code>compile(params)</code></a></li><li><a href=#make-c-compilation-parallel><code>make(c: Compilation)</code> parallel</a></li><li><a href=#after-compile-c-compilation-async><code>after-compile(c: Compilation)</code> async</a></li><li><a href=#emit-c-compilation-async><code>emit(c: Compilation)</code> async</a></li><li><a href=#after-emit-c-compilation-async><code>after-emit(c: Compilation)</code> async</a></li><li><a href=#done-stats-stats><code>done(stats: Stats)</code></a></li><li><a href=#failed-err-error><code>failed(err: Error)</code></a></li><li><a href=#invalid><code>invalid()</code></a></li><li><a href=#after-plugins><code>after-plugins()</code></a></li><li><a href=#after-resolvers><code>after-resolvers()</code></a></li></ul></li><li><a href=#normalmodulefactory>NormalModuleFactory</a><ul><li><a href=#before-resolve-data-async-waterfall><code>before-resolve(data)</code> async waterfall</a></li><li><a href=#after-resolve-data-async-waterfall><code>after-resolve(data)</code> async waterfall</a></li></ul></li><li><a href=#contextmodulefactory>ContextModuleFactory</a><ul><li><a href=#before-resolve-data-async-waterfall><code>before-resolve(data)</code> async waterfall</a></li><li><a href=#after-resolve-data-async-waterfall><code>after-resolve(data)</code> async waterfall</a></li><li><a href=#alternatives-options-array-async-waterfall><code>alternatives(options: Array)</code> async waterfall</a></li></ul></li><li><a href=#compilation>Compilation</a><ul><li><a href=#seal><code>seal</code></a></li><li><a href=#optimize><code>optimize</code></a></li><li><a href=#optimize-modules-modules-module><code>optimize-modules(modules: Module[])</code></a></li><li><a href=#after-optimize-modules-modules-module><code>after-optimize-modules(modules: Module[])</code></a></li><li><a href=#optimize-chunks-chunks-chunk><code>optimize-chunks(chunks: Chunk[])</code></a></li><li><a href=#after-optimize-chunks-chunks-chunk><code>after-optimize-chunks(chunks: Chunk[])</code></a></li><li><a href=#revive-modules-modules-module-records><code>revive-modules(modules: Module[], records)</code></a></li><li><a href=#optimize-module-order-modules-module><code>optimize-module-order(modules: Module[])</code></a></li><li><a href=#optimize-module-ids-modules-module><code>optimize-module-ids(modules: Module[])</code></a></li><li><a href=#after-optimize-module-ids-modules-module><code>after-optimize-module-ids(modules: Module[])</code></a></li><li><a href=#record-modules-modules-module-records><code>record-modules(modules: Module[], records)</code></a></li><li><a href=#revive-chunks-chunks-chunk-records><code>revive-chunks(chunks: Chunk[], records)</code></a></li><li><a href=#optimize-chunk-order-chunks-chunk><code>optimize-chunk-order(chunks: Chunk[])</code></a></li><li><a href=#optimize-chunk-ids-chunks-chunk><code>optimize-chunk-ids(chunks: Chunk[])</code></a></li><li><a href=#after-optimize-chunk-ids-chunks-chunk><code>after-optimize-chunk-ids(chunks: Chunk[])</code></a></li><li><a href=#record-chunks-chunks-chunk-records><code>record-chunks(chunks: Chunk[], records)</code></a></li><li><a href=#before-hash><code>before-hash</code></a></li><li><a href=#after-hash><code>after-hash</code></a></li><li><a href=#before-chunk-assets><code>before-chunk-assets</code></a></li><li><a href=#additional-chunk-assets-chunks-chunk><code>additional-chunk-assets(chunks: Chunk[])</code></a></li><li><a href=#record-compilation-records><code>record(compilation, records)</code></a></li><li><a href=#optimize-chunk-assets-chunks-chunk-async><code>optimize-chunk-assets(chunks: Chunk[])</code> async</a></li><li><a href=#after-optimize-chunk-assets-chunks-chunk><code>after-optimize-chunk-assets(chunks: Chunk[])</code></a></li><li><a href=#optimize-assets-assets-object-name-source-async><code>optimize-assets(assets: Object{name: Source})</code> async</a></li><li><a href=#after-optimize-assets-assets-object-name-source><code>after-optimize-assets(assets: Object{name: Source})</code></a></li><li><a href=#build-module><code>build-module</code></a></li><li><a href=#succeed-module><code>succeed-module</code></a></li><li><a href=#failed-module><code>failed-module</code></a></li><li><a href=#module-asset-module-filename><code>module-asset(module, filename)</code></a></li><li><a href=#chunk-asset-chunk-filename><code>chunk-asset(chunk, filename)</code></a></li></ul></li><li><a href=#parser-compiler-parser>Parser <code>compiler.parser</code></a><ul><li><a href=#programm-ast-bailing><code>programm(ast)</code> bailing</a></li><li><a href=#statement-statement-statement-bailing><code>statement(statement: Statement)</code> bailing</a></li><li><a href=#call-identifier-expr-expression-bailing><code>call &lt;identifier&gt;(expr: Expression)</code> bailing</a></li><li><a href=#expression-identifier-expr-expression-bailing><code>expression &lt;identifier&gt;(expr: Expression)</code> bailing</a></li><li><a href=#expression-expr-expression-bailing><code>expression ?:(expr: Expression)</code> bailing</a></li><li><a href=#typeof-identifier-expr-expression-bailing><code><span class=keyword>typeof</span> &lt;identifier&gt;(expr: Expression)</code> bailing</a></li><li><a href=#statement-if-statement-statement-bailing><code>statement <span class=keyword>if</span>(statement: Statement)</code> bailing</a></li><li><a href=#label-labelname-statement-statement-bailing><code>label &lt;labelname&gt;(statement: Statement)</code> bailing</a></li><li><a href=#var-name-statement-statement-bailing><code><span class=keyword>var</span> &lt;name&gt;(statement: Statement)</code> bailing</a></li><li><a href=#evaluate-expression-type-expr-expression-bailing><code>evaluate &lt;expression type&gt;(expr: Expression)</code> bailing</a></li><li><a href=#evaluate-typeof-identifier-expr-expression-bailing><code>evaluate <span class=keyword>typeof</span> &lt;identifier&gt;(expr: Expression)</code> bailing</a></li><li><a href=#evaluate-identifier-identifier-expr-expression-bailing><code>evaluate Identifier &lt;identifier&gt;(expr: Expression)</code> bailing</a></li><li><a href=#evaluate-defined-identifier-identifier-expr-expression-bailing><code>evaluate defined Identifier &lt;identifier&gt;(expr: Expression)</code> bailing</a></li><li><a href=#evaluate-callexpression-property-expr-expression-bailing><code>evaluate CallExpression .<span class=xml><span class=tag>&lt;<span class=title>property</span>&gt;</span>(expr: Expression)</span></code> bailing</a></li></ul></li><li><a href=#resolver>Resolver</a><ul><li><a href=#resolve-context-string-request-string><code>resolve(context: String, request: String)</code></a></li><li><a href=#resolve-step-types-string-request-request><code>resolve-step(types: String[], request: Request)</code></a></li><li><a href=#module-request-request-async-waterfall><code>module(request: Request)</code> async waterfall</a></li><li><a href=#directory-request-request-async-waterfall><code>directory(request: Request)</code> async waterfall</a></li><li><a href=#file-request-request-async-waterfall><code>file(request: Request)</code> async waterfall</a></li><li><a href=#the-plugins-may-offer-more-extensions-points>The plugins may offer more extensions points</a><ul><li><a href=#module-module><code>module-module</code></a></li><li><a href=#module-loader-module-only-for-loaders><code>module-loader-module</code> (only for loaders)</a></li></ul></li></ul></li></ul></div><p>A (webpack) plugin is a object that has a <code>apply</code> method with one parameter, the compiler. I. e. a function is a plugin, because the function prototype defines a <code>apply</code> method. But you also can define a “class” with the <code>apply</code> method.</p><p>Many objects in webpack extends the Tapable class, which mean they expose a <code>plugin</code> method, which plugins can use to bind custom stuff.</p><p>I. e. the Compiler expose the <code><span class=string>"compile"</span></code> plugin interface, which is called when the Compiler compiles</p><pre><code>compiler.plugin(<span class=string>"compile"</span>, <span class=function><span class=keyword>function</span><span class=params>(params)</span> {</span>
    <span class=comment>// Just print a text</span>
    console.log(<span class=string>"Compiling..."</span>);
});</code></pre><p>A plugin only gets a reference to the compiler object, so if it want to plugin stuff into other webpack objects it have to gain access to them. I. e. the Compilation object:</p><pre><code>compiler.plugin(<span class=string>"compilation"</span>, <span class=function><span class=keyword>function</span><span class=params>(compilation)</span> {</span>
    compilation.plugin(<span class=string>"optimize"</span>, <span class=function><span class=keyword>function</span><span class=params>()</span> {</span>
        console.log(<span class=string>"The compilation is now optimizing your stuff"</span>);
    });
});</code></pre><h2 id=interface-types><a class=anchor href=#interface-types><i class="glyphicon glyphicon-link"></i></a>interface types</h2><p>There are multiple types of plugin interfaces.</p><ul><li><p>Timing</p><ul><li>sync (default): As seen above. Use return.</li><li>async: Last parameter is a callback. Signature: function(err, result)</li><li>parallel: The handlers are invoked parallel (async).</li></ul></li><li><p>Return value</p><ul><li>not bailing (default): No return value.</li><li>bailing: The handlers are invoked in order until one handler return something.</li><li>parallel bailing: The handlers are invoked parallel (async). The first (by order) returned value is significant.</li><li>waterfall: Each handler get the result value of the last handler as argument.</li></ul></li></ul><h2 id=compiler><a class=anchor href=#compiler><i class="glyphicon glyphicon-link"></i></a>Compiler</h2><h3 id=run-compiler-compiler-async><a class=anchor href=#run-compiler-compiler-async><i class="glyphicon glyphicon-link"></i></a><code>run(compiler: Compiler)</code> async</h3><p>The <code>run</code> method of the Compiler is used to start a compilation. This is not called in watch mode.</p><h3 id=watch-run-watching-watching-async><a class=anchor href=#watch-run-watching-watching-async><i class="glyphicon glyphicon-link"></i></a><code>watch-run(watching: Watching)</code> async</h3><p>The <code>watch</code> method of the Compiler is used to start a watching compilation. This is not called in normal mode.</p><h3 id=compilation-c-compilation-params-object><a class=anchor href=#compilation-c-compilation-params-object><i class="glyphicon glyphicon-link"></i></a><code>compilation(c: Compilation, params: Object)</code></h3><p>A <code>Compilation</code> is created. A plugin can use this to obtain a reference to the <code>Compilation</code> object. The <code>params</code> object contains useful references.</p><h3 id=normal-module-factory-nmf-normalmodulefactory><a class=anchor href=#normal-module-factory-nmf-normalmodulefactory><i class="glyphicon glyphicon-link"></i></a><code>normal-module-factory(nmf: NormalModuleFactory)</code></h3><p>A <code>NormalModuleFactory</code> is created. A plugin can use this to obtain a reference to the <code>NormalModuleFactory</code> object.</p><h3 id=context-module-factory-cmf-contextmodulefactory><a class=anchor href=#context-module-factory-cmf-contextmodulefactory><i class="glyphicon glyphicon-link"></i></a><code>context-module-factory(cmf: ContextModuleFactory)</code></h3><p>A <code>ContextModuleFactory</code> is created. A plugin can use this to obtain a reference to the <code>ContextModuleFactory</code> object.</p><h3 id=compile-params><a class=anchor href=#compile-params><i class="glyphicon glyphicon-link"></i></a><code>compile(params)</code></h3><p>The Compiler starts compiling. This is used in normal and watch mode. Plugins can use this point to modify the <code>params</code> object (i. e. to decorate the factories).</p><h3 id=make-c-compilation-parallel><a class=anchor href=#make-c-compilation-parallel><i class="glyphicon glyphicon-link"></i></a><code>make(c: Compilation)</code> parallel</h3><p>Plugins can use this point to add entries to the compilation or prefetch modules. They can do this by calling <code>addEntry(context, entry, name, callback)</code> or <code>prefetch(context, dependency, callback)</code> on the Compilation.</p><h3 id=after-compile-c-compilation-async><a class=anchor href=#after-compile-c-compilation-async><i class="glyphicon glyphicon-link"></i></a><code>after-compile(c: Compilation)</code> async</h3><p>The compile process is finished and the modules are sealed. The next step is to emit the generated stuff. Here modules can use the results in some cool ways.</p><p>The handlers are not copied to child compilers.</p><h3 id=emit-c-compilation-async><a class=anchor href=#emit-c-compilation-async><i class="glyphicon glyphicon-link"></i></a><code>emit(c: Compilation)</code> async</h3><p>The Compiler begins with emitting the generated assets. Here plugins have the last chance to add assets to the <code>c.assets</code> array.</p><h3 id=after-emit-c-compilation-async><a class=anchor href=#after-emit-c-compilation-async><i class="glyphicon glyphicon-link"></i></a><code>after-emit(c: Compilation)</code> async</h3><p>The Compiler has emitted all assets.</p><h3 id=done-stats-stats><a class=anchor href=#done-stats-stats><i class="glyphicon glyphicon-link"></i></a><code>done(stats: Stats)</code></h3><p>All is done.</p><h3 id=failed-err-error><a class=anchor href=#failed-err-error><i class="glyphicon glyphicon-link"></i></a><code>failed(err: Error)</code></h3><p>The Compiler is in watch mode and a compilation has failed hard.</p><h3 id=invalid><a class=anchor href=#invalid><i class="glyphicon glyphicon-link"></i></a><code>invalid()</code></h3><p>The Compiler is in watch mode and a file change is detected. The compilation will be begin shortly (<code>options.watchDelay</code>).</p><h3 id=after-plugins><a class=anchor href=#after-plugins><i class="glyphicon glyphicon-link"></i></a><code>after-plugins()</code></h3><p>All plugins extracted from the options object are added to the compiler.</p><h3 id=after-resolvers><a class=anchor href=#after-resolvers><i class="glyphicon glyphicon-link"></i></a><code>after-resolvers()</code></h3><p>All plugins extracted from the options object are added to the resolvers.</p><h2 id=normalmodulefactory><a class=anchor href=#normalmodulefactory><i class="glyphicon glyphicon-link"></i></a>NormalModuleFactory</h2><h3 id=before-resolve-data-async-waterfall><a class=anchor href=#before-resolve-data-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>before-resolve(data)</code> async waterfall</h3><p>Before the factory starts resolving. The <code>data</code> object has this properties:</p><ul><li><code>context</code> The absolute path of the directory for resolving.</li><li><code>request</code> The request of expression.</li></ul><p>Plugins are allowed to modify the object or pass a new similar object to the callback.</p><h3 id=after-resolve-data-async-waterfall><a class=anchor href=#after-resolve-data-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>after-resolve(data)</code> async waterfall</h3><p>After the factory has resolved the request. The <code>data</code> object has this properties:</p><ul><li><code>request</code> The resolved request. It acts as identifier for the NormalModule.</li><li><code>userRequest</code> The request the user entered. It’s resolved, but do not contain pre or post loaders.</li><li><code>rawRequest</code> The unresolved request.</li><li><code>loaders</code> A array of resolved loaders. This is passed to the NormalModule and they will be executed.</li><li><code>resource</code> The resource. It will be loaded by the NormalModule.</li><li><code>parser</code> The parser that will be used by the NormalModule.</li></ul><h2 id=contextmodulefactory><a class=anchor href=#contextmodulefactory><i class="glyphicon glyphicon-link"></i></a>ContextModuleFactory</h2><h3 id=before-resolve-data-async-waterfall><a class=anchor href=#before-resolve-data-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>before-resolve(data)</code> async waterfall</h3><h3 id=after-resolve-data-async-waterfall><a class=anchor href=#after-resolve-data-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>after-resolve(data)</code> async waterfall</h3><h3 id=alternatives-options-array-async-waterfall><a class=anchor href=#alternatives-options-array-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>alternatives(options: Array)</code> async waterfall</h3><h2 id=compilation><a class=anchor href=#compilation><i class="glyphicon glyphicon-link"></i></a>Compilation</h2><h3 id=seal><a class=anchor href=#seal><i class="glyphicon glyphicon-link"></i></a><code>seal</code></h3><p>The sealing to the compilation has started.</p><h3 id=optimize><a class=anchor href=#optimize><i class="glyphicon glyphicon-link"></i></a><code>optimize</code></h3><p>Optimize the compilation.</p><h3 id=optimize-modules-modules-module><a class=anchor href=#optimize-modules-modules-module><i class="glyphicon glyphicon-link"></i></a><code>optimize-modules(modules: Module[])</code></h3><p>Optimize the modules.</p><h3 id=after-optimize-modules-modules-module><a class=anchor href=#after-optimize-modules-modules-module><i class="glyphicon glyphicon-link"></i></a><code>after-optimize-modules(modules: Module[])</code></h3><p>Optimizing the modules has finished.</p><h3 id=optimize-chunks-chunks-chunk><a class=anchor href=#optimize-chunks-chunks-chunk><i class="glyphicon glyphicon-link"></i></a><code>optimize-chunks(chunks: Chunk[])</code></h3><p>Optimize the chunks.</p><h3 id=after-optimize-chunks-chunks-chunk><a class=anchor href=#after-optimize-chunks-chunks-chunk><i class="glyphicon glyphicon-link"></i></a><code>after-optimize-chunks(chunks: Chunk[])</code></h3><p>Optimizing the chunks has finished.</p><h3 id=revive-modules-modules-module-records><a class=anchor href=#revive-modules-modules-module-records><i class="glyphicon glyphicon-link"></i></a><code>revive-modules(modules: Module[], records)</code></h3><p>Restore module info from records.</p><h3 id=optimize-module-order-modules-module><a class=anchor href=#optimize-module-order-modules-module><i class="glyphicon glyphicon-link"></i></a><code>optimize-module-order(modules: Module[])</code></h3><p>Sort the modules in order of importance. The first is the most important module. It will get the smallest id.</p><h3 id=optimize-module-ids-modules-module><a class=anchor href=#optimize-module-ids-modules-module><i class="glyphicon glyphicon-link"></i></a><code>optimize-module-ids(modules: Module[])</code></h3><p>Optimize the module ids.</p><h3 id=after-optimize-module-ids-modules-module><a class=anchor href=#after-optimize-module-ids-modules-module><i class="glyphicon glyphicon-link"></i></a><code>after-optimize-module-ids(modules: Module[])</code></h3><p>Optimizing the module ids has finished.</p><h3 id=record-modules-modules-module-records><a class=anchor href=#record-modules-modules-module-records><i class="glyphicon glyphicon-link"></i></a><code>record-modules(modules: Module[], records)</code></h3><p>Store module info to the records.</p><h3 id=revive-chunks-chunks-chunk-records><a class=anchor href=#revive-chunks-chunks-chunk-records><i class="glyphicon glyphicon-link"></i></a><code>revive-chunks(chunks: Chunk[], records)</code></h3><p>Restore chunk info from records.</p><h3 id=optimize-chunk-order-chunks-chunk><a class=anchor href=#optimize-chunk-order-chunks-chunk><i class="glyphicon glyphicon-link"></i></a><code>optimize-chunk-order(chunks: Chunk[])</code></h3><p>Sort the chunks in order of importance. The first is the most important chunk. It will get the smallest id.</p><h3 id=optimize-chunk-ids-chunks-chunk><a class=anchor href=#optimize-chunk-ids-chunks-chunk><i class="glyphicon glyphicon-link"></i></a><code>optimize-chunk-ids(chunks: Chunk[])</code></h3><p>Optimize the chunk ids.</p><h3 id=after-optimize-chunk-ids-chunks-chunk><a class=anchor href=#after-optimize-chunk-ids-chunks-chunk><i class="glyphicon glyphicon-link"></i></a><code>after-optimize-chunk-ids(chunks: Chunk[])</code></h3><p>Optimizing the chunk ids has finished.</p><h3 id=record-chunks-chunks-chunk-records><a class=anchor href=#record-chunks-chunks-chunk-records><i class="glyphicon glyphicon-link"></i></a><code>record-chunks(chunks: Chunk[], records)</code></h3><p>Store chunk info to the records.</p><h3 id=before-hash><a class=anchor href=#before-hash><i class="glyphicon glyphicon-link"></i></a><code>before-hash</code></h3><p>Before the compilation is hashed.</p><h3 id=after-hash><a class=anchor href=#after-hash><i class="glyphicon glyphicon-link"></i></a><code>after-hash</code></h3><p>After the compilation is hashed.</p><h3 id=before-chunk-assets><a class=anchor href=#before-chunk-assets><i class="glyphicon glyphicon-link"></i></a><code>before-chunk-assets</code></h3><p>Before creating the chunk assets.</p><h3 id=additional-chunk-assets-chunks-chunk><a class=anchor href=#additional-chunk-assets-chunks-chunk><i class="glyphicon glyphicon-link"></i></a><code>additional-chunk-assets(chunks: Chunk[])</code></h3><p>Create additional assets for the chunks.</p><h3 id=record-compilation-records><a class=anchor href=#record-compilation-records><i class="glyphicon glyphicon-link"></i></a><code>record(compilation, records)</code></h3><p>Store info about the compilation to the records</p><h3 id=optimize-chunk-assets-chunks-chunk-async><a class=anchor href=#optimize-chunk-assets-chunks-chunk-async><i class="glyphicon glyphicon-link"></i></a><code>optimize-chunk-assets(chunks: Chunk[])</code> async</h3><p>Optimize the assets for the chunks.</p><p>The assets are stored in <code><span class=keyword>this</span>.assets</code>, but not all of them are chunk assets. A <code>Chunk</code> has a property <code>files</code> which points to all files created by this chunk. The additional chunk assets are stored in <code><span class=keyword>this</span>.additionalChunkAssets</code>.</p><h3 id=after-optimize-chunk-assets-chunks-chunk><a class=anchor href=#after-optimize-chunk-assets-chunks-chunk><i class="glyphicon glyphicon-link"></i></a><code>after-optimize-chunk-assets(chunks: Chunk[])</code></h3><p>The chunk assets has been optimized.</p><h3 id=optimize-assets-assets-object-name-source-async><a class=anchor href=#optimize-assets-assets-object-name-source-async><i class="glyphicon glyphicon-link"></i></a><code>optimize-assets(assets: Object{name: Source})</code> async</h3><p>Optimize all assets.</p><p>The assets are stored in <code><span class=keyword>this</span>.assets</code>.</p><h3 id=after-optimize-assets-assets-object-name-source><a class=anchor href=#after-optimize-assets-assets-object-name-source><i class="glyphicon glyphicon-link"></i></a><code>after-optimize-assets(assets: Object{name: Source})</code></h3><p>The assets has been optimized.</p><h3 id=build-module><a class=anchor href=#build-module><i class="glyphicon glyphicon-link"></i></a><code>build-module</code></h3><p>Before a module build has started.</p><h3 id=succeed-module><a class=anchor href=#succeed-module><i class="glyphicon glyphicon-link"></i></a><code>succeed-module</code></h3><p>A module has been build successfully.</p><h3 id=failed-module><a class=anchor href=#failed-module><i class="glyphicon glyphicon-link"></i></a><code>failed-module</code></h3><p>The module build has been failed.</p><h3 id=module-asset-module-filename><a class=anchor href=#module-asset-module-filename><i class="glyphicon glyphicon-link"></i></a><code>module-asset(module, filename)</code></h3><p>An assets from a module was added to the compilation.</p><h3 id=chunk-asset-chunk-filename><a class=anchor href=#chunk-asset-chunk-filename><i class="glyphicon glyphicon-link"></i></a><code>chunk-asset(chunk, filename)</code></h3><p>An assets from a chunk was added to the compilation.</p><h2 id=parser-compiler-parser><a class=anchor href=#parser-compiler-parser><i class="glyphicon glyphicon-link"></i></a>Parser <code>compiler.parser</code></h2><h3 id=programm-ast-bailing><a class=anchor href=#programm-ast-bailing><i class="glyphicon glyphicon-link"></i></a><code>programm(ast)</code> bailing</h3><p>General purpose plugin interface for the while AST of a code fragment.</p><h3 id=statement-statement-statement-bailing><a class=anchor href=#statement-statement-statement-bailing><i class="glyphicon glyphicon-link"></i></a><code>statement(statement: Statement)</code> bailing</h3><p>General purpose plugin interface for every statement of the code fragment.</p><h3 id=call-identifier-expr-expression-bailing><a class=anchor href=#call-identifier-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>call &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p><code>abc(<span class=number>1</span>)</code> =&gt; <code>call abc</code></p><p><code>a.b.c(<span class=number>1</span>)</code> =&gt; <code>call a.b.c</code></p><h3 id=expression-identifier-expr-expression-bailing><a class=anchor href=#expression-identifier-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>expression &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p><code>abc</code> =&gt; <code>expression abc</code></p><p><code>a.b.c</code> =&gt; <code>expression a.b.c</code></p><h3 id=expression-expr-expression-bailing><a class=anchor href=#expression-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>expression ?:(expr: Expression)</code> bailing</h3><p><code>(abc ? <span class=number>1</span> : <span class=number>2</span>)</code> =&gt; <code>expression ?!</code></p><p>Return a boolean value to omit parsing of the wrong path.</p><h3 id=typeof-identifier-expr-expression-bailing><a class=anchor href=#typeof-identifier-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code><span class=keyword>typeof</span> &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p><code><span class=keyword>typeof</span> a.b.c</code> =&gt; <code><span class=keyword>typeof</span> a.b.c</code></p><h3 id=statement-if-statement-statement-bailing><a class=anchor href=#statement-if-statement-statement-bailing><i class="glyphicon glyphicon-link"></i></a><code>statement <span class=keyword>if</span>(statement: Statement)</code> bailing</h3><p><code><span class=keyword>if</span>(abc) {}</code> =&gt; <code>statement <span class=keyword>if</span></code></p><p>Return a boolean value to omit parsing of the wrong path.</p><h3 id=label-labelname-statement-statement-bailing><a class=anchor href=#label-labelname-statement-statement-bailing><i class="glyphicon glyphicon-link"></i></a><code>label &lt;labelname&gt;(statement: Statement)</code> bailing</h3><p><code>xyz: abc</code> =&gt; <code>label xyz</code></p><h3 id=var-name-statement-statement-bailing><a class=anchor href=#var-name-statement-statement-bailing><i class="glyphicon glyphicon-link"></i></a><code><span class=keyword>var</span> &lt;name&gt;(statement: Statement)</code> bailing</h3><p><code><span class=keyword>var</span> abc, def</code> =&gt; <code><span class=keyword>var</span> abc</code> + <code><span class=keyword>var</span> def</code></p><p>Return <code><span class=literal>false</span></code> to not add the variable to the known definitions.</p><h3 id=evaluate-expression-type-expr-expression-bailing><a class=anchor href=#evaluate-expression-type-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>evaluate &lt;expression type&gt;(expr: Expression)</code> bailing</h3><p>Evaluate an expression.</p><h3 id=evaluate-typeof-identifier-expr-expression-bailing><a class=anchor href=#evaluate-typeof-identifier-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>evaluate <span class=keyword>typeof</span> &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p>Evaluate the type of an identifier.</p><h3 id=evaluate-identifier-identifier-expr-expression-bailing><a class=anchor href=#evaluate-identifier-identifier-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>evaluate Identifier &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p>Evaluate a identifier that is a free var.</p><h3 id=evaluate-defined-identifier-identifier-expr-expression-bailing><a class=anchor href=#evaluate-defined-identifier-identifier-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>evaluate defined Identifier &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p>Evaluate a identifier that is a defined var.</p><h3 id=evaluate-callexpression-property-expr-expression-bailing><a class=anchor href=#evaluate-callexpression-property-expr-expression-bailing><i class="glyphicon glyphicon-link"></i></a><code>evaluate CallExpression .<span class=xml><span class=tag>&lt;<span class=title>property</span>&gt;</span>(expr: Expression)</span></code> bailing</h3><p>Evaluate a call to a member function of a successfully evaluated expression.</p><h2 id=resolver><a class=anchor href=#resolver><i class="glyphicon glyphicon-link"></i></a>Resolver</h2><ul><li><code>compiler.resolvers.normal</code> Resolver for a normal module</li><li><code>compiler.resolvers.context</code> Resolver for a context module</li><li><code>compiler.resolvers.loader</code> Resolver for a loader</li></ul><p>Any plugin should use <code><span class=keyword>this</span>.fileSystem</code> as fileSystem, as it’s cached. It only has async named functions, but they may behave sync, if the user uses a sync file system implementation (i. e. in enhanced-require).</p><p>To join paths any plugin should use <code><span class=keyword>this</span>.join</code>. It normalize the paths. There is a <code><span class=keyword>this</span>.normalize</code> too.</p><p>A bailing async forEach implementation is available on <code><span class=keyword>this</span>.forEachBail(array, iterator, callback)</code>.</p><p>To pass the request to other resolving plugins use the <code><span class=keyword>this</span>.doResolve(types: String|String[], request: Request, callback)</code> method. <code>types</code> are multiple possible request types that are tested in preference of order.</p><pre><code>interface Request {
    path: String <span class=comment>// The current directory of the request</span>
    request: String <span class=comment>// The current request string</span>
    query: String <span class=comment>// The querystring of the request, if any</span>
    module: boolean <span class=comment>// request begins with a module</span>
    directory: boolean <span class=comment>// The request points to a directory</span>
    file: boolean <span class=comment>// The request points to a file</span>
    resolved: boolean <span class=comment>// The request is resolved/done</span>
    <span class=comment>// undefined means false for boolean fields</span>
}

<span class=comment>// Examples</span>
<span class=comment>// from /home/user/project/file.js: require("../test?charset=ascii")</span>
{
    path: <span class=string>"/home/user/project"</span>,
    request: <span class=string>"../test"</span>,
    query: <span class=string>"?charset=ascii"</span>
}
<span class=comment>// from /home/user/project/file.js: require("test/test/")</span>
{
    path: <span class=string>"/home/user/project"</span>,
    request: <span class=string>"test/test/"</span>,
    module: <span class=literal>true</span>,
    directory: <span class=literal>true</span>
}</code></pre><h3 id=resolve-context-string-request-string><a class=anchor href=#resolve-context-string-request-string><i class="glyphicon glyphicon-link"></i></a><code>resolve(context: String, request: String)</code></h3><p>Before the resolving process starts.</p><h3 id=resolve-step-types-string-request-request><a class=anchor href=#resolve-step-types-string-request-request><i class="glyphicon glyphicon-link"></i></a><code>resolve-step(types: String[], request: Request)</code></h3><p>Before a single step in the resolving process starts.</p><h3 id=module-request-request-async-waterfall><a class=anchor href=#module-request-request-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>module(request: Request)</code> async waterfall</h3><p>A module request is found and should be resolved</p><h3 id=directory-request-request-async-waterfall><a class=anchor href=#directory-request-request-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>directory(request: Request)</code> async waterfall</h3><p>A directory request is found and should be resolved</p><h3 id=file-request-request-async-waterfall><a class=anchor href=#file-request-request-async-waterfall><i class="glyphicon glyphicon-link"></i></a><code>file(request: Request)</code> async waterfall</h3><p>A file request is found and should be resolved</p><h3 id=the-plugins-may-offer-more-extensions-points><a class=anchor href=#the-plugins-may-offer-more-extensions-points><i class="glyphicon glyphicon-link"></i></a>The plugins may offer more extensions points</h3><p>Here is a list what the default plugins in webpack offer. They are all <code>(request: Request)</code> async waterfall</p><p>The process for normal modules and contexts is <code>module -&gt; module-module -&gt; directory -&gt; file</code></p><p>The process for loaders is <code>module -&gt; module-loader-module -&gt; module-module -&gt; directory -&gt; file</code></p><h4 id=module-module><a class=anchor href=#module-module><i class="glyphicon glyphicon-link"></i></a><code>module-module</code></h4><p>A module should be looked up in a specified directory. <code>path</code> contains the directory.</p><h4 id=module-loader-module-only-for-loaders><a class=anchor href=#module-loader-module-only-for-loaders><i class="glyphicon glyphicon-link"></i></a><code>module-loader-module</code> (only for loaders)</h4><p>Used before module templates are applied to the module name. The process continues with <code>module-module</code>.</p></div></div></div></div></div><a href=https://github.com/webpack/webpack><img style="position: absolute; top: 0; left: 0; border: 0" src=https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png alt="Fork me on GitHub"></a>