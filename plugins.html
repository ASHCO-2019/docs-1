<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=""><meta name=author content=""><link rel=icon type=image/png href="/assets/favicon.png"><link rel=stylesheet href="css/doc.css"><title>plugins</title><body><script src=js/doc.js charset=utf-8 async></script><div class=container><div class=row><div class="col-md-3 nav"><div class=logo><ul class=cube-inner><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li></ul><ul class=cube><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li><li class=floor></li></ul></div><div class=name>webpack</div><div class=tagline>MODULE BUNDLER</div><div class=sidebar><ul><li><a href=.>Home</a></li></ul><ul><li>Getting Started<ul><li><a href=motivation.html>Motivation</a></li><li><a href=what-is-webpack.html>What is webpack?</a></li><li><a href=installation.html>Installation</a></li><li><a href=usage.html>Usage</a></li><li>Require Modules</li><li>Vendor Modules</li><li><a href=using-loaders.html>Using Loaders</a></li><li><a href=using-plugins.html>Using Plugins</a></li><li><a href=dev-tools.html>Dev Tools</a></li><li><a href=troubleshooting.html>Troubleshooting</a></li></ul></li><li>tutorials and examples<ul><li><a href="http://webpack.github.io/docs/tutorials/getting-started/">Getting started</a></li><li><a href=list-of-tutorials.html>List of tutorials</a></li><li><a href=examples.html>examples</a></li></ul></li><li>Guides<ul><li><a href=commonjs.html>CommonJs</a></li><li><a href=amd.html>AMD</a></li><li><a href=webpack-for-browserify-users.html>webpack for browserify users</a></li><li><a href=code-splitting.html>Code Splitting</a></li><li><a href=stylesheets.html>Stylesheets</a></li><li><a href=optimization.html>Optimization</a></li><li><a href=long-term-caching.html>Long-term Caching</a></li><li><a href=how-to-write-a-loader.html>How to write a loader</a></li><li>How to write a plugin</li><li><a href=multiple-entry-points.html>Multiple entry points</a></li><li><a href=library-and-externals.html>Library and externals</a></li><li><a href=shimming-modules.html>Shimming modules</a></li><li><a href=testing.html>Testing</a></li><li><a href=build-performance.html>Build performance</a></li><li><a href=hot-module-replacement-with-webpack.html>Hot Module Replacement with webpack</a></li><li><a href=comparison.html>Comparison</a></li></ul></li><li>webpack with<ul><li><a href=usage-with-grunt.html>grunt</a></li><li><a href=usage-with-gulp.html>gulp</a></li><li><a href=usage-with-bower.html>bower</a></li><li><a href=usage-with-karma.html>karma</a></li></ul></li><li>Lists<ul><li><a href=loader-conventions.html>loader conventions</a></li><li><a href=list-of-loaders.html>List of loaders</a></li><li><a href=list-of-plugins.html>List of plugins</a></li><li><a href=list-of-tutorials.html>List of tutorials</a></li></ul></li><li>API<ul><li><a href=configuration.html>Configuration</a></li><li><a href=cli.html>CLI</a></li><li><a href=node.js-api.html>Node.js API</a></li><li><a href=api-in-modules.html>API in modules</a></li><li><a href=loaders.html>Loaders</a></li><li><a href=plugins.html>Plugins</a></li><li><a href=context.html>Context</a></li><li><a href=resolving.html>Resolving</a></li><li><a href=hot-module-replacement.html>Hot Module Replacement</a></li><li>Dev Tools<ul><li><a href=webpack-dev-server.html>webpack-dev-server</a></li><li><a href=webpack-dev-middleware.html>webpack-dev-middleware</a></li></ul></li></ul></li><li>Development<ul><li><a href=changelog.html>Changelog</a></li><li><a href=roadmap.html>Roadmap</a></li><li><a href=ideas.html>Ideas</a></li><li>Contributing</li></ul></li></ul></div></div><div class=col-md-9><div class=announcement><div class=announcement-inner><em>2014-07-04</em> Help to improve webpack by filling out <a href=https://docs.google.com/forms/d/101ZcujnVL8l575T6VRl62SfrVj5FZC1IzwMH1258GVc/viewform>this little survey</a>. Thanks!</div></div><div class=pull-right><a href=https://github.com/webpack/docs/wiki/plugins/_edit id=wikieditlink>Edit</a></div><div class=row><div class="col-md-12 page-header"><h1 id=wikititle>plugins</h1></div></div><div class=row><div id=wiki class=col-md-12><div class=contents><ul><li><a href=#interface-types>interface types</a></li><li><a href=#compiler-instance><code>Compiler</code> instance</a><ul><li><a href=#run-async><code>run</code> async</a></li><li><a href=#watch-run-async><code>watch-run</code> async</a></li><li><a href=#compilation><code>compilation</code></a></li><li><a href=#normal-module-factory><code>normal-module-factory</code></a></li><li><a href=#context-module-factory><code>context-module-factory</code></a></li><li><a href=#compile><code>compile</code></a></li><li><a href=#make-parallel><code>make</code> parallel</a></li><li><a href=#after-compile-async><code>after-compile</code> async</a></li><li><a href=#emit-async><code>emit</code> async</a></li><li><a href=#after-emit-async><code>after-emit</code> async</a></li><li><a href=#done><code>done</code></a></li><li><a href=#failed><code>failed</code></a></li><li><a href=#invalid><code>invalid</code></a></li><li><a href=#after-plugins><code>after-plugins</code></a></li><li><a href=#after-resolvers><code>after-resolvers</code></a></li></ul></li><li><a href=#normalmodulefactory>NormalModuleFactory</a><ul><li><a href=#before-resolve-async-waterfall><code>before-resolve</code> async waterfall</a></li><li><a href=#after-resolve-async-waterfall><code>after-resolve</code> async waterfall</a></li></ul></li><li><a href=#contextmodulefactory>ContextModuleFactory</a><ul><li><a href=#before-resolve-async-waterfall><code>before-resolve</code> async waterfall</a></li><li><a href=#after-resolve-async-waterfall><code>after-resolve</code> async waterfall</a></li><li><a href=#alternatives-async-waterfall><code>alternatives</code> async waterfall</a></li></ul></li><li><a href=#compilation-instance><code>Compilation</code> instance</a><ul><li><a href=#seal><code>seal</code></a></li><li><a href=#optimize><code>optimize</code></a></li><li><a href=#optimize-tree-async><code>optimize-tree</code> async</a></li><li><a href=#optimize-modules><code>optimize-modules</code></a></li><li><a href=#after-optimize-modules><code>after-optimize-modules</code></a></li><li><a href=#optimize-chunks><code>optimize-chunks</code></a></li><li><a href=#after-optimize-chunks><code>after-optimize-chunks</code></a></li><li><a href=#revive-modules><code>revive-modules</code></a></li><li><a href=#optimize-module-order><code>optimize-module-order</code></a></li><li><a href=#optimize-module-ids><code>optimize-module-ids</code></a></li><li><a href=#after-optimize-module-ids><code>after-optimize-module-ids</code></a></li><li><a href=#record-modules><code>record-modules</code></a></li><li><a href=#revive-chunks><code>revive-chunks</code></a></li><li><a href=#optimize-chunk-order><code>optimize-chunk-order</code></a></li><li><a href=#optimize-chunk-ids><code>optimize-chunk-ids</code></a></li><li><a href=#after-optimize-chunk-ids><code>after-optimize-chunk-ids</code></a></li><li><a href=#record-chunks><code>record-chunks</code></a></li><li><a href=#before-hash><code>before-hash</code></a></li><li><a href=#after-hash><code>after-hash</code></a></li><li><a href=#before-chunk-assets><code>before-chunk-assets</code></a></li><li><a href=#additional-chunk-assets><code>additional-chunk-assets</code></a></li><li><a href=#record><code>record</code></a></li><li><a href=#optimize-chunk-assets-async><code>optimize-chunk-assets</code> async</a></li><li><a href=#after-optimize-chunk-assets><code>after-optimize-chunk-assets</code></a></li><li><a href=#optimize-assets-async><code>optimize-assets</code> async</a></li><li><a href=#after-optimize-assets><code>after-optimize-assets</code></a></li><li><a href=#build-module><code>build-module</code></a></li><li><a href=#succeed-module><code>succeed-module</code></a></li><li><a href=#failed-module><code>failed-module</code></a></li><li><a href=#module-asset><code>module-asset</code></a></li><li><a href=#chunk-asset><code>chunk-asset</code></a></li></ul></li><li><a href=#parser-instance><code>Parser</code> instance</a><ul><li><a href=#program-bailing><code>program</code> bailing</a></li><li><a href=#statement-bailing><code>statement</code> bailing</a></li><li><a href=#call-identifier-bailing><code>call &lt;identifier&gt;</code> bailing</a></li><li><a href=#expression-identifier-bailing><code>expression &lt;identifier&gt;</code> bailing</a></li><li><a href=#expression-bailing><code>expression ?:</code> bailing</a></li><li><a href=#typeof-identifier-bailing><code><span class=keyword>typeof</span> &lt;identifier&gt;</code> bailing</a></li><li><a href=#statement-if-bailing><code>statement <span class=keyword>if</span></code> bailing</a></li><li><a href=#label-labelname-bailing><code>label &lt;labelname&gt;</code> bailing</a></li><li><a href=#var-name-bailing><code><span class=keyword>var</span> &lt;name&gt;</code> bailing</a></li><li><a href=#evaluate-expression-type-bailing><code>evaluate &lt;expression type&gt;</code> bailing</a></li><li><a href=#evaluate-typeof-identifier-bailing><code>evaluate <span class=keyword>typeof</span> &lt;identifier&gt;</code> bailing</a></li><li><a href=#evaluate-identifier-identifier-bailing><code>evaluate Identifier &lt;identifier&gt;</code> bailing</a></li><li><a href=#evaluate-defined-identifier-identifier-bailing><code>evaluate defined Identifier &lt;identifier&gt;</code> bailing</a></li><li><a href=#evaluate-callexpression-property-bailing><code>evaluate CallExpression .<span class=xml><span class=tag>&lt;<span class=title>property</span>&gt;</span></span></code> bailing</a></li></ul></li><li><a href=#resolvers>Resolvers</a><ul><li><a href=#resolve><code>resolve</code></a></li><li><a href=#resolve-step><code>resolve-step</code></a></li><li><a href=#module-async-waterfall><code>module</code> async waterfall</a></li><li><a href=#directory-async-waterfall><code>directory</code> async waterfall</a></li><li><a href=#file-async-waterfall><code>file</code> async waterfall</a></li><li><a href=#the-plugins-may-offer-more-extensions-points>The plugins may offer more extensions points</a><ul><li><a href=#module-module><code>module-module</code></a></li><li><a href=#module-loader-module><code>module-loader-module</code></a></li></ul></li></ul></li></ul></div><p>A (webpack) plugin is a object that has an <code>apply</code> method with one parameter, the compiler. I. e. a function is a plugin, because the function prototype defines a <code>apply</code> method. But you also can define a “class” with the <code>apply</code> method.</p><p>Many objects in webpack extends the Tapable class, which mean they expose a <code>plugin</code> method, which plugins can use to bind custom stuff.</p><p>I. e. the Compiler expose the <code><span class=string>"compile"</span></code> plugin interface, which is called when the Compiler compiles</p><pre><code>compiler.plugin(<span class=string>"compile"</span>, <span class=function><span class=keyword>function</span><span class=params>(params)</span> {</span>
    <span class=comment>// Just print a text</span>
    console.log(<span class=string>"Compiling..."</span>);
});</code></pre><p>A plugin only gets a reference to the compiler object, so if it want to plugin stuff into other webpack objects it have to gain access to them. I. e. the Compilation object:</p><pre><code>compiler.plugin(<span class=string>"compilation"</span>, <span class=function><span class=keyword>function</span><span class=params>(compilation)</span> {</span>
    compilation.plugin(<span class=string>"optimize"</span>, <span class=function><span class=keyword>function</span><span class=params>()</span> {</span>
        console.log(<span class=string>"The compilation is now optimizing your stuff"</span>);
    });
});</code></pre><h2 id=interface-types><a class=anchor href=#interface-types>&rarr;</a>interface types</h2><p>There are multiple types of plugin interfaces.</p><ul><li><p>Timing</p><ul><li>sync (default): As seen above. Use return.</li><li>async: Last parameter is a callback. Signature: function(err, result)</li><li>parallel: The handlers are invoked parallel (async).</li></ul></li><li><p>Return value</p><ul><li>not bailing (default): No return value.</li><li>bailing: The handlers are invoked in order until one handler return something.</li><li>parallel bailing: The handlers are invoked parallel (async). The first (by order) returned value is significant.</li><li>waterfall: Each handler get the result value of the last handler as argument.</li></ul></li></ul><h2 id=compiler-instance><a class=anchor href=#compiler-instance>&rarr;</a><code>Compiler</code> instance</h2><h3 id=run-async><a class=anchor href=#run-async>&rarr;</a><code>run(compiler: Compiler)</code> async</h3><p>The <code>run</code> method of the Compiler is used to start a compilation. This is not called in watch mode.</p><h3 id=watch-run-async><a class=anchor href=#watch-run-async>&rarr;</a><code>watch-run(watching: Watching)</code> async</h3><p>The <code>watch</code> method of the Compiler is used to start a watching compilation. This is not called in normal mode.</p><h3 id=compilation><a class=anchor href=#compilation>&rarr;</a><code>compilation(c: Compilation, params: Object)</code></h3><p>A <code>Compilation</code> is created. A plugin can use this to obtain a reference to the <code>Compilation</code> object. The <code>params</code> object contains useful references.</p><h3 id=normal-module-factory><a class=anchor href=#normal-module-factory>&rarr;</a><code>normal-module-factory(nmf: NormalModuleFactory)</code></h3><p>A <code>NormalModuleFactory</code> is created. A plugin can use this to obtain a reference to the <code>NormalModuleFactory</code> object.</p><h3 id=context-module-factory><a class=anchor href=#context-module-factory>&rarr;</a><code>context-module-factory(cmf: ContextModuleFactory)</code></h3><p>A <code>ContextModuleFactory</code> is created. A plugin can use this to obtain a reference to the <code>ContextModuleFactory</code> object.</p><h3 id=compile><a class=anchor href=#compile>&rarr;</a><code>compile(params)</code></h3><p>The Compiler starts compiling. This is used in normal and watch mode. Plugins can use this point to modify the <code>params</code> object (i. e. to decorate the factories).</p><h3 id=make-parallel><a class=anchor href=#make-parallel>&rarr;</a><code>make(c: Compilation)</code> parallel</h3><p>Plugins can use this point to add entries to the compilation or prefetch modules. They can do this by calling <code>addEntry(context, entry, name, callback)</code> or <code>prefetch(context, dependency, callback)</code> on the Compilation.</p><h3 id=after-compile-async><a class=anchor href=#after-compile-async>&rarr;</a><code>after-compile(c: Compilation)</code> async</h3><p>The compile process is finished and the modules are sealed. The next step is to emit the generated stuff. Here modules can use the results in some cool ways.</p><p>The handlers are not copied to child compilers.</p><h3 id=emit-async><a class=anchor href=#emit-async>&rarr;</a><code>emit(c: Compilation)</code> async</h3><p>The Compiler begins with emitting the generated assets. Here plugins have the last chance to add assets to the <code>c.assets</code> array.</p><h3 id=after-emit-async><a class=anchor href=#after-emit-async>&rarr;</a><code>after-emit(c: Compilation)</code> async</h3><p>The Compiler has emitted all assets.</p><h3 id=done><a class=anchor href=#done>&rarr;</a><code>done(stats: Stats)</code></h3><p>All is done.</p><h3 id=failed><a class=anchor href=#failed>&rarr;</a><code>failed(err: Error)</code></h3><p>The Compiler is in watch mode and a compilation has failed hard.</p><h3 id=invalid><a class=anchor href=#invalid>&rarr;</a><code>invalid()</code></h3><p>The Compiler is in watch mode and a file change is detected. The compilation will be begin shortly (<code>options.watchDelay</code>).</p><h3 id=after-plugins><a class=anchor href=#after-plugins>&rarr;</a><code>after-plugins()</code></h3><p>All plugins extracted from the options object are added to the compiler.</p><h3 id=after-resolvers><a class=anchor href=#after-resolvers>&rarr;</a><code>after-resolvers()</code></h3><p>All plugins extracted from the options object are added to the resolvers.</p><h2 id=normalmodulefactory><a class=anchor href=#normalmodulefactory>&rarr;</a>NormalModuleFactory</h2><h3 id=before-resolve-async-waterfall><a class=anchor href=#before-resolve-async-waterfall>&rarr;</a><code>before-resolve(data)</code> async waterfall</h3><p>Before the factory starts resolving. The <code>data</code> object has this properties:</p><ul><li><code>context</code> The absolute path of the directory for resolving.</li><li><code>request</code> The request of expression.</li></ul><p>Plugins are allowed to modify the object or pass a new similar object to the callback.</p><h3 id=after-resolve-async-waterfall><a class=anchor href=#after-resolve-async-waterfall>&rarr;</a><code>after-resolve(data)</code> async waterfall</h3><p>After the factory has resolved the request. The <code>data</code> object has this properties:</p><ul><li><code>request</code> The resolved request. It acts as identifier for the NormalModule.</li><li><code>userRequest</code> The request the user entered. It’s resolved, but do not contain pre or post loaders.</li><li><code>rawRequest</code> The unresolved request.</li><li><code>loaders</code> A array of resolved loaders. This is passed to the NormalModule and they will be executed.</li><li><code>resource</code> The resource. It will be loaded by the NormalModule.</li><li><code>parser</code> The parser that will be used by the NormalModule.</li></ul><h2 id=contextmodulefactory><a class=anchor href=#contextmodulefactory>&rarr;</a>ContextModuleFactory</h2><h3 id=before-resolve-async-waterfall><a class=anchor href=#before-resolve-async-waterfall>&rarr;</a><code>before-resolve(data)</code> async waterfall</h3><h3 id=after-resolve-async-waterfall><a class=anchor href=#after-resolve-async-waterfall>&rarr;</a><code>after-resolve(data)</code> async waterfall</h3><h3 id=alternatives-async-waterfall><a class=anchor href=#alternatives-async-waterfall>&rarr;</a><code>alternatives(options: Array)</code> async waterfall</h3><h2 id=compilation-instance><a class=anchor href=#compilation-instance>&rarr;</a><code>Compilation</code> instance</h2><h3 id=seal><a class=anchor href=#seal>&rarr;</a><code>seal</code></h3><p>The sealing to the compilation has started.</p><h3 id=optimize><a class=anchor href=#optimize>&rarr;</a><code>optimize</code></h3><p>Optimize the compilation.</p><h3 id=optimize-tree-async><a class=anchor href=#optimize-tree-async>&rarr;</a><code>optimize-tree(chunks, modules)</code> async</h3><p>Async optimize of the tree.</p><h3 id=optimize-modules><a class=anchor href=#optimize-modules>&rarr;</a><code>optimize-modules(modules: Module[])</code></h3><p>Optimize the modules.</p><h3 id=after-optimize-modules><a class=anchor href=#after-optimize-modules>&rarr;</a><code>after-optimize-modules(modules: Module[])</code></h3><p>Optimizing the modules has finished.</p><h3 id=optimize-chunks><a class=anchor href=#optimize-chunks>&rarr;</a><code>optimize-chunks(chunks: Chunk[])</code></h3><p>Optimize the chunks.</p><h3 id=after-optimize-chunks><a class=anchor href=#after-optimize-chunks>&rarr;</a><code>after-optimize-chunks(chunks: Chunk[])</code></h3><p>Optimizing the chunks has finished.</p><h3 id=revive-modules><a class=anchor href=#revive-modules>&rarr;</a><code>revive-modules(modules: Module[], records)</code></h3><p>Restore module info from records.</p><h3 id=optimize-module-order><a class=anchor href=#optimize-module-order>&rarr;</a><code>optimize-module-order(modules: Module[])</code></h3><p>Sort the modules in order of importance. The first is the most important module. It will get the smallest id.</p><h3 id=optimize-module-ids><a class=anchor href=#optimize-module-ids>&rarr;</a><code>optimize-module-ids(modules: Module[])</code></h3><p>Optimize the module ids.</p><h3 id=after-optimize-module-ids><a class=anchor href=#after-optimize-module-ids>&rarr;</a><code>after-optimize-module-ids(modules: Module[])</code></h3><p>Optimizing the module ids has finished.</p><h3 id=record-modules><a class=anchor href=#record-modules>&rarr;</a><code>record-modules(modules: Module[], records)</code></h3><p>Store module info to the records.</p><h3 id=revive-chunks><a class=anchor href=#revive-chunks>&rarr;</a><code>revive-chunks(chunks: Chunk[], records)</code></h3><p>Restore chunk info from records.</p><h3 id=optimize-chunk-order><a class=anchor href=#optimize-chunk-order>&rarr;</a><code>optimize-chunk-order(chunks: Chunk[])</code></h3><p>Sort the chunks in order of importance. The first is the most important chunk. It will get the smallest id.</p><h3 id=optimize-chunk-ids><a class=anchor href=#optimize-chunk-ids>&rarr;</a><code>optimize-chunk-ids(chunks: Chunk[])</code></h3><p>Optimize the chunk ids.</p><h3 id=after-optimize-chunk-ids><a class=anchor href=#after-optimize-chunk-ids>&rarr;</a><code>after-optimize-chunk-ids(chunks: Chunk[])</code></h3><p>Optimizing the chunk ids has finished.</p><h3 id=record-chunks><a class=anchor href=#record-chunks>&rarr;</a><code>record-chunks(chunks: Chunk[], records)</code></h3><p>Store chunk info to the records.</p><h3 id=before-hash><a class=anchor href=#before-hash>&rarr;</a><code>before-hash</code></h3><p>Before the compilation is hashed.</p><h3 id=after-hash><a class=anchor href=#after-hash>&rarr;</a><code>after-hash</code></h3><p>After the compilation is hashed.</p><h3 id=before-chunk-assets><a class=anchor href=#before-chunk-assets>&rarr;</a><code>before-chunk-assets</code></h3><p>Before creating the chunk assets.</p><h3 id=additional-chunk-assets><a class=anchor href=#additional-chunk-assets>&rarr;</a><code>additional-chunk-assets(chunks: Chunk[])</code></h3><p>Create additional assets for the chunks.</p><h3 id=record><a class=anchor href=#record>&rarr;</a><code>record(compilation, records)</code></h3><p>Store info about the compilation to the records</p><h3 id=optimize-chunk-assets-async><a class=anchor href=#optimize-chunk-assets-async>&rarr;</a><code>optimize-chunk-assets(chunks: Chunk[])</code> async</h3><p>Optimize the assets for the chunks.</p><p>The assets are stored in <code><span class=keyword>this</span>.assets</code>, but not all of them are chunk assets. A <code>Chunk</code> has a property <code>files</code> which points to all files created by this chunk. The additional chunk assets are stored in <code><span class=keyword>this</span>.additionalChunkAssets</code>.</p><h3 id=after-optimize-chunk-assets><a class=anchor href=#after-optimize-chunk-assets>&rarr;</a><code>after-optimize-chunk-assets(chunks: Chunk[])</code></h3><p>The chunk assets has been optimized.</p><h3 id=optimize-assets-async><a class=anchor href=#optimize-assets-async>&rarr;</a><code>optimize-assets(assets: Object{name: Source})</code> async</h3><p>Optimize all assets.</p><p>The assets are stored in <code><span class=keyword>this</span>.assets</code>.</p><h3 id=after-optimize-assets><a class=anchor href=#after-optimize-assets>&rarr;</a><code>after-optimize-assets(assets: Object{name: Source})</code></h3><p>The assets has been optimized.</p><h3 id=build-module><a class=anchor href=#build-module>&rarr;</a><code>build-module</code></h3><p>Before a module build has started.</p><h3 id=succeed-module><a class=anchor href=#succeed-module>&rarr;</a><code>succeed-module</code></h3><p>A module has been build successfully.</p><h3 id=failed-module><a class=anchor href=#failed-module>&rarr;</a><code>failed-module</code></h3><p>The module build has been failed.</p><h3 id=module-asset><a class=anchor href=#module-asset>&rarr;</a><code>module-asset(module, filename)</code></h3><p>An assets from a module was added to the compilation.</p><h3 id=chunk-asset><a class=anchor href=#chunk-asset>&rarr;</a><code>chunk-asset(chunk, filename)</code></h3><p>An assets from a chunk was added to the compilation.</p><h2 id=parser-instance><a class=anchor href=#parser-instance>&rarr;</a><code>Parser</code> instance (<code>compiler.parser</code>)</h2><h3 id=program-bailing><a class=anchor href=#program-bailing>&rarr;</a><code>program(ast)</code> bailing</h3><p>General purpose plugin interface for the while AST of a code fragment.</p><h3 id=statement-bailing><a class=anchor href=#statement-bailing>&rarr;</a><code>statement(statement: Statement)</code> bailing</h3><p>General purpose plugin interface for every statement of the code fragment.</p><h3 id=call-identifier-bailing><a class=anchor href=#call-identifier-bailing>&rarr;</a><code>call &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p><code>abc(<span class=number>1</span>)</code> =&gt; <code>call abc</code></p><p><code>a.b.c(<span class=number>1</span>)</code> =&gt; <code>call a.b.c</code></p><h3 id=expression-identifier-bailing><a class=anchor href=#expression-identifier-bailing>&rarr;</a><code>expression &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p><code>abc</code> =&gt; <code>expression abc</code></p><p><code>a.b.c</code> =&gt; <code>expression a.b.c</code></p><h3 id=expression-bailing><a class=anchor href=#expression-bailing>&rarr;</a><code>expression ?:(expr: Expression)</code> bailing</h3><p><code>(abc ? <span class=number>1</span> : <span class=number>2</span>)</code> =&gt; <code>expression ?!</code></p><p>Return a boolean value to omit parsing of the wrong path.</p><h3 id=typeof-identifier-bailing><a class=anchor href=#typeof-identifier-bailing>&rarr;</a><code><span class=keyword>typeof</span> &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p><code><span class=keyword>typeof</span> a.b.c</code> =&gt; <code><span class=keyword>typeof</span> a.b.c</code></p><h3 id=statement-if-bailing><a class=anchor href=#statement-if-bailing>&rarr;</a><code>statement <span class=keyword>if</span>(statement: Statement)</code> bailing</h3><p><code><span class=keyword>if</span>(abc) {}</code> =&gt; <code>statement <span class=keyword>if</span></code></p><p>Return a boolean value to omit parsing of the wrong path.</p><h3 id=label-labelname-bailing><a class=anchor href=#label-labelname-bailing>&rarr;</a><code>label &lt;labelname&gt;(statement: Statement)</code> bailing</h3><p><code>xyz: abc</code> =&gt; <code>label xyz</code></p><h3 id=var-name-bailing><a class=anchor href=#var-name-bailing>&rarr;</a><code><span class=keyword>var</span> &lt;name&gt;(statement: Statement)</code> bailing</h3><p><code><span class=keyword>var</span> abc, def</code> =&gt; <code><span class=keyword>var</span> abc</code> + <code><span class=keyword>var</span> def</code></p><p>Return <code><span class=literal>false</span></code> to not add the variable to the known definitions.</p><h3 id=evaluate-expression-type-bailing><a class=anchor href=#evaluate-expression-type-bailing>&rarr;</a><code>evaluate &lt;expression type&gt;(expr: Expression)</code> bailing</h3><p>Evaluate an expression.</p><h3 id=evaluate-typeof-identifier-bailing><a class=anchor href=#evaluate-typeof-identifier-bailing>&rarr;</a><code>evaluate <span class=keyword>typeof</span> &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p>Evaluate the type of an identifier.</p><h3 id=evaluate-identifier-identifier-bailing><a class=anchor href=#evaluate-identifier-identifier-bailing>&rarr;</a><code>evaluate Identifier &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p>Evaluate a identifier that is a free var.</p><h3 id=evaluate-defined-identifier-identifier-bailing><a class=anchor href=#evaluate-defined-identifier-identifier-bailing>&rarr;</a><code>evaluate defined Identifier &lt;identifier&gt;(expr: Expression)</code> bailing</h3><p>Evaluate a identifier that is a defined var.</p><h3 id=evaluate-callexpression-property-bailing><a class=anchor href=#evaluate-callexpression-property-bailing>&rarr;</a><code>evaluate CallExpression .<span class=xml><span class=tag>&lt;<span class=title>property</span>&gt;</span>(expr: Expression)</span></code> bailing</h3><p>Evaluate a call to a member function of a successfully evaluated expression.</p><h2 id=resolvers><a class=anchor href=#resolvers>&rarr;</a>Resolvers</h2><ul><li><code>compiler.resolvers.normal</code> Resolver for a normal module</li><li><code>compiler.resolvers.context</code> Resolver for a context module</li><li><code>compiler.resolvers.loader</code> Resolver for a loader</li></ul><p>Any plugin should use <code><span class=keyword>this</span>.fileSystem</code> as fileSystem, as it’s cached. It only has async named functions, but they may behave sync, if the user uses a sync file system implementation (i. e. in enhanced-require).</p><p>To join paths any plugin should use <code><span class=keyword>this</span>.join</code>. It normalize the paths. There is a <code><span class=keyword>this</span>.normalize</code> too.</p><p>A bailing async forEach implementation is available on <code><span class=keyword>this</span>.forEachBail(array, iterator, callback)</code>.</p><p>To pass the request to other resolving plugins use the <code><span class=keyword>this</span>.doResolve(types: String|String[], request: Request, callback)</code> method. <code>types</code> are multiple possible request types that are tested in preference of order.</p><pre><code>interface Request {
    path: String <span class=comment>// The current directory of the request</span>
    request: String <span class=comment>// The current request string</span>
    query: String <span class=comment>// The querystring of the request, if any</span>
    module: boolean <span class=comment>// request begins with a module</span>
    directory: boolean <span class=comment>// The request points to a directory</span>
    file: boolean <span class=comment>// The request points to a file</span>
    resolved: boolean <span class=comment>// The request is resolved/done</span>
    <span class=comment>// undefined means false for boolean fields</span>
}

<span class=comment>// Examples</span>
<span class=comment>// from /home/user/project/file.js: require("../test?charset=ascii")</span>
{
    path: <span class=string>"/home/user/project"</span>,
    request: <span class=string>"../test"</span>,
    query: <span class=string>"?charset=ascii"</span>
}
<span class=comment>// from /home/user/project/file.js: require("test/test/")</span>
{
    path: <span class=string>"/home/user/project"</span>,
    request: <span class=string>"test/test/"</span>,
    module: <span class=literal>true</span>,
    directory: <span class=literal>true</span>
}</code></pre><h3 id=resolve><a class=anchor href=#resolve>&rarr;</a><code>resolve(context: String, request: String)</code></h3><p>Before the resolving process starts.</p><h3 id=resolve-step><a class=anchor href=#resolve-step>&rarr;</a><code>resolve-step(types: String[], request: Request)</code></h3><p>Before a single step in the resolving process starts.</p><h3 id=module-async-waterfall><a class=anchor href=#module-async-waterfall>&rarr;</a><code>module(request: Request)</code> async waterfall</h3><p>A module request is found and should be resolved</p><h3 id=directory-async-waterfall><a class=anchor href=#directory-async-waterfall>&rarr;</a><code>directory(request: Request)</code> async waterfall</h3><p>A directory request is found and should be resolved</p><h3 id=file-async-waterfall><a class=anchor href=#file-async-waterfall>&rarr;</a><code>file(request: Request)</code> async waterfall</h3><p>A file request is found and should be resolved</p><h3 id=the-plugins-may-offer-more-extensions-points><a class=anchor href=#the-plugins-may-offer-more-extensions-points>&rarr;</a>The plugins may offer more extensions points</h3><p>Here is a list what the default plugins in webpack offer. They are all <code>(request: Request)</code> async waterfall</p><p>The process for normal modules and contexts is <code>module -&gt; module-module -&gt; directory -&gt; file</code></p><p>The process for loaders is <code>module -&gt; module-loader-module -&gt; module-module -&gt; directory -&gt; file</code></p><h4 id=module-module><a class=anchor href=#module-module>&rarr;</a><code>module-module</code></h4><p>A module should be looked up in a specified directory. <code>path</code> contains the directory.</p><h4 id=module-loader-module><a class=anchor href=#module-loader-module>&rarr;</a><code>module-loader-module</code> (only for loaders)</h4><p>Used before module templates are applied to the module name. The process continues with <code>module-module</code>.</p></div></div></div></div></div><a href=https://github.com/webpack/webpack><img style="position: absolute; top: 0; left: 0; border: 0" src=https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png alt="Fork me on GitHub"></a>