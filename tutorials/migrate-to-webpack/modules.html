<!DOCTYPE html><html><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=description content=""><meta name=author content=""><base href="../../"><title>Let's make modules</title><body><script src=js/tutorial.js charset=utf-8 async></script><div class=container><div class=row><div class=col-md-3><div class=logo><ul class=cube-inner><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li></ul><ul class=cube><li class=front></li><li class=back></li><li class=right></li><li class=left></li><li class=top></li><li class=bottom></li><li class=floor></li></ul></div><div class=name>webpack</div><div class=tagline>MODULE BUNDLER</div><div class=sidebar><p><a href=.>&lt; docs</a></p><ul><li><a href=tutorials/migrate-to-webpack/welcome.html>Welcome</a></li><li><a href=tutorials/migrate-to-webpack/normal-app.html>A "normal" app</a></li><li><a href=tutorials/migrate-to-webpack/lets-webpack.html>Let's webpack</a></li><li><a href=tutorials/migrate-to-webpack/coffee-script.html>Preprocess coffeescript</a></li><li><a href=tutorials/migrate-to-webpack/webpack-config.html>Use a configuration file</a></li><li><a href=tutorials/migrate-to-webpack/modules.html class=active>Let's make modules</a></li><li><a href=tutorials/migrate-to-webpack/external-depencencies.html>jquery web module</a></li><li><a href=tutorials/migrate-to-webpack/other-resources.html>stylesheets</a></li><li><a href=tutorials/migrate-to-webpack/templates.html>Summary</a></li></ul></div></div><div class=col-md-9><div class=row><div class=col-md-12><ul class=pager><li class=previous><a href=tutorials/migrate-to-webpack/webpack-config.html>&larr; Prev</a></li><li class=next><a href=tutorials/migrate-to-webpack/external-depencencies.html>Next &rarr;</a></li></ul></div></div><div class=row><div class=col-md-12><div class=contents><ul><li><a href=#let-s-make-modules>Let’s make modules</a><ul><li><a href=#summary>Summary</a></li></ul></li></ul></div><h2 id=let-s-make-modules><a class=anchor href=#let-s-make-modules><i class="glyphicon glyphicon-link"></i></a>Let’s make modules</h2><p>Because we use webpack now, we can use <code>require</code> to load other modules.</p><p>We first want to split our code into model, view and controller.</p><p>We use CommonJS style modules in this example, but AMD style modules are also possible (or mix both styles).</p><div class="panel panel-success"><div class=panel-heading><h3 class=panel-title>add <code>userAgentModel.coffee</code></h3></div><div class=panel-body><pre><code>module.<span class=built_in>exports</span> = window.navigator.userAgent</code></pre></div></div><div class="panel panel-success"><div class=panel-heading><h3 class=panel-title>add <code>userAgentView.coffee</code></h3></div><div class=panel-body><pre><code>exports.<span class=function><span class=title>render</span> = <span class=params>(model)</span> -&gt;</span>
  $(<span class=string>"#user-agent"</span>).text model</code></pre></div></div><div class="panel panel-info"><div class=panel-heading><h3 class=panel-title>update <code>app.coffee</code></h3></div><div class=panel-body><pre><code><div>  $<span class=function> -&gt;</span></div><div class=deletion>- 	<span class=comment># Model:</span></div><div class=deletion>- 	userAgent = window.navigator.userAgent</div><div class=deletion>- </div><div class=deletion>- 	<span class=comment># View:</span></div><div class=deletion>- 	view =</div><div class=deletion>- 		<span class=attribute>render</span>: <span class=function><span class=params>(ua)</span> -&gt;</span></div><div class=deletion>- 			$(<span class=string>"#user-agent"</span>).text ua</div><div class=deletion>- </div><div class=deletion>- 	<span class=comment># Controller (render the model):</span></div><div class=deletion>- 	view.render userAgent</div><div class=addition>+ 	model = <span class=built_in>require</span> <span class=string>"./userAgentModel.coffee"</span></div><div class=addition>+ 	view = <span class=built_in>require</span> <span class=string>"./userAgentView.coffee"</span></div><div class=addition>+ 	view.render model</div><div>  </div></code></pre></div></div><h3 id=summary><a class=anchor href=#summary><i class="glyphicon glyphicon-link"></i></a>Summary</h3><p>Webpack now takes care of our coffeescript files and bundle them together.</p><iframe class=tutorial-iframe seamless src=tutorials/migrate-to-webpack/modules/index.html></iframe></div></div><div class=row><div class=col-md-12><ul class=pager><li class=next><a href=tutorials/migrate-to-webpack/external-depencencies.html>Next &rarr;</a></li></ul></div></div></div></div></div><a href=https://github.com/webpack/webpack><img style="position: absolute; top: 0; left: 0; border: 0" src=https://s3.amazonaws.com/github/ribbons/forkme_left_orange_ff7600.png alt="Fork me on GitHub"></a>